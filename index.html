<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>North Slope Shift Calendar 2026</title>
    
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">

    <style>
        :root { 
            --on-color: #3498db; 
            --travel-color: #e67e22; 
            --off-color: #ffffff; 
            --text-main: #333;
            --bg-body: #f0f2f5;
            --bg-card: #ffffff;
            --border-color: #eee;
        }
        body.dark-mode {
            --off-color: #2c3e50;
            --text-main: #ecf0f1;
            --bg-body: #1a1a1a;
            --bg-card: #2d2d2d;
            --border-color: #444;
        }
        body { font-family: 'Segoe UI', system-ui, sans-serif; padding: 20px; background: var(--bg-body); color: var(--text-main); margin: 0; transition: background 0.3s; }
        .header-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; }
        .legend { display: flex; gap: 15px; background: var(--bg-card); padding: 10px 15px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .legend-item { display: flex; align-items: center; gap: 6px; font-size: 0.85em; font-weight: 600; }
        .dot { width: 12px; height: 12px; border-radius: 50%; border: 1px solid #ddd; }
        .controls { background: var(--bg-card); padding: 20px; border-radius: 12px; display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); align-items: flex-end; }
        .control-group { display: flex; flex-direction: column; gap: 4px; }
        label { font-weight: 600; font-size: 0.85em; color: var(--text-main); opacity: 0.8; }
        input, select { padding: 8px; border: 1px solid var(--border-color); border-radius: 6px; width: 140px; background: var(--bg-card); color: var(--text-main); }
        .btn { padding: 10px 18px; border-radius: 6px; cursor: pointer; font-weight: bold; border: none; transition: 0.2s; }
        .btn-gen { background: #2ecc71; color: white; }
        .btn-dark { background: #34495e; color: white; }
        .btn-print { background: #95a5a6; color: white; }
        .calendar-grid { display: grid; gap: 20px; }
        .layout-standard { grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); }
        .layout-compact { grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .month { background: var(--bg-card); border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); padding: 15px; }
        h3 { text-align: center; color: var(--on-color); border-bottom: 1px solid var(--border-color); padding-bottom: 8px; margin-top: 0; }
        .weekday-header, .days { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; }
        .weekday-header { font-weight: bold; color: #999; font-size: 0.75em; margin-bottom: 8px; }
        .day { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-size: 0.85em; border: 1px solid transparent; }
        .on-shift { background: var(--on-color) !important; color: white; font-weight: bold; }
        .travel-day { background: var(--travel-color) !important; color: white; font-weight: bold; }
        .off-day { background: var(--off-color); color: var(--text-main); border-color: var(--border-color); }
        .today { border: 2px solid #e74c3c !important; }
        .empty { visibility: hidden; }
        input[type="color"] {
    padding: 0;
    height: 38px;
    cursor: pointer;
}
        @media print {
    .controls, .btn-print, .btn-dark { display: none !important; }
    body { background: white !important; color: black !important; padding: 0 !important; }
    .calendar-grid { 
        display: grid !important; 
        grid-template-columns: repeat(3, 1fr) !important; 
        gap: 5px !important; 
    }
    .month { 
        border: 1px solid #eee !important; 
        box-shadow: none !important; 
        page-break-inside: avoid; 
        font-size: 0.8rem !important; /* This helps it fit on one page */
    }
}
    </style>
</head>
<body>
    <div class="header-container">
        <h2>North Slope Shift Calendar 2026</h2>
        <div class="legend">
            <div class="legend-item"><div class="dot" style="background: var(--on-color);"></div> Work</div>
            <div class="legend-item"><div class="dot" style="background: var(--travel-color);"></div> Travel</div>
            <div class="legend-item"><div class="dot" style="background: var(--off-color);"></div> Off</div>
        </div>
    </div>
    <div class="controls">
        <div class="control-group"><label>Days ON</label><input type="number" id="daysOn" value="21"></div>
        <div class="control-group"><label>Days OFF</label><input type="number" id="daysOff" value="21"></div>
        <div class="control-group"><label>1st Day ON</label><input type="date" id="startDate" value="2026-01-08"></div>
        <div class="control-group">
            <label>Style</label>
            <select id="layoutStyle" onchange="generateCalendar()">
                <option value="layout-standard">Standard</option>
                <option value="layout-compact">Compact</option>
            </select>
        </div>
        <div class="control-group"><label>Work</label><input type="color" id="workColor" value="#3498db" oninput="updateColors()"></div>
        <div class="control-group"><label>Travel</label><input type="color" id="travelColor" value="#e67e22" oninput="updateColors()"></div>
        <button class="btn btn-gen" onclick="generateCalendar()">Update</button>
        <button class="btn btn-dark" onclick="document.body.classList.toggle('dark-mode')">Dark Mode</button>
        <button class="btn btn-print" onclick="window.print()">Print PDF</button>
    </div>
    <div id="calendar" class="calendar-grid"></div>
    <script>
        function updateColors() {
            document.documentElement.style.setProperty('--on-color', document.getElementById('workColor').value);
            document.documentElement.style.setProperty('--travel-color', document.getElementById('travelColor').value);
        }
        function generateCalendar() {
            const daysOn = parseInt(document.getElementById('daysOn').value) || 21;
            const daysOff = parseInt(document.getElementById('daysOff').value) || 21;
            const startInput = document.getElementById('startDate').value || "2026-01-08";
            const layout = document.getElementById('layoutStyle').value;
            const startShift = new Date(startInput + "T00:00:00");
            const today = new Date(); today.setHours(0,0,0,0);
            const container = document.getElementById('calendar');
            container.className = 'calendar-grid ' + layout;
            container.innerHTML = '';
            const cycle = daysOn + daysOff;
            for (let m = 0; m < 12; m++) {
                const monthDiv = document.createElement('div');
                monthDiv.className = 'month';
                const first = new Date(2026, m, 1);
                let html = `<h3>${first.toLocaleString('default', { month: 'long' })}</h3>`;
                html += `<div class="weekday-header"><div>S</div><div>M</div><div>T</div><div>W</div><div>T</div><div>F</div><div>S</div></div><div class="days">`;
                for (let i = 0; i < first.getDay(); i++) html += `<div class="day empty"></div>`;
                const date = new Date(2026, m, 1);
                while (date.getMonth() === m) {
                    const diff = Math.round((date.getTime() - startShift.getTime()) / 86400000);
                    let pos = diff % cycle; if (pos < 0) pos += cycle;
                    let type = (pos === 0 || pos === daysOn) ? 'travel-day' : (pos > 0 && pos < daysOn) ? 'on-shift' : 'off-day';
                    const isToday = (date.getTime() === today.getTime()) ? 'today' : '';
                    html += `<div class="day ${type} ${isToday}">${date.getDate()}</div>`;
                    date.setDate(date.getDate() + 1);
                }
                monthDiv.innerHTML = html + `</div>`;
                container.appendChild(monthDiv);
            }
        }
        generateCalendar();
    </script>
</body>
</html>





